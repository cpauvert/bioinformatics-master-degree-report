\begin{tikzpicture}[
	soft/.style = {draw=Igreen,signal,signal to=east,signal from=west, fill=Igreen!25,text=black,text width=6em},
	data/.style = {draw=Igreen,tape,tape bend top=none,fill=white,text=black,align=center,double copy shadow={opacity=.5},text width=6em},
	alert/.style = {very thick},
	every label/.style = {font=\small},
	every edge/.style = {draw=black,->, >=stealth}]
\matrix [matrix of nodes, row sep = 1em,column sep=6em,nodes={align=center},ampersand replacement=\&
		%column 1/.style ={text width = 6em},
		%column 2/.style ={text width = 6em},
		%column 3/.style ={text width = 8em}
] (m) {%
	|[data]| Reference Genomes\&[-4em] \&  |[data]| Sequencing Data\\
			|[soft,label={below:\texttt{bowtie-build}}]| Reference creation\& |[data]| Genomes Indexation \&  |[soft,text width=8em,label={below:\texttt{bowtie v1}}]| Alignment on reference genomes\\
			\& |[data]| Annotations (GFF) \&  |[data,text width=8em]| Alignment file for each genome (BAM) \\
 \& \&  |[soft]| BAM--GFF Intersection \\
			\& \& |[data]| Output files \\
			%\& \& |[data,visible on=<3->]| Composition de l'écosystème et Détails par génome \\
};

\matrix [row sep=.1em, nodes={rectangle, minimum width=4em, minimum height=.01em, fill}, ampersand replacement=\&] (genome) at (m-1-1-|m-2-2) {%
	\node [Iblue!85!black] {};\& \\
	\node [Iblue!85] {};\& \\
	\node [Iblue!65] {};\& \\
	\node [Iorange!85!black] {};\& \\
	\node [Ipurple] {};\& \\};
\tikzstyle{lecture}=[rectangle, minimum width=3em,minimum height=1em]
\pgfmathsetseed{3}
\node[left=2em of m-1-3] (nL) {};
\begin{scope}[x=15em, y=7em, scale=0.1, every node/.style={transform shape}, local bounding box=seq, shift={($(nL)$)}]
  \foreach \n /\col in {4/Igreen, 20 /Iblue, 10 /Iblue!65, 20 /Iorange,10/Iblue!65!black,8/Igreen!65!black}{%
	  \foreach \x in {1,...,\n}{
	      \node[lecture, fill=\col] (l\x) at (rand, rand) {};
	  }
  };
  \end{scope} 
  \draw (m-1-1) edge (m-2-1);
  \draw (m-2-1) edge (m-2-2);
  \draw (m-2-2) edge (m-2-3);
  \draw (m-1-3) edge (m-2-3);
  \draw (m-2-3) edge (m-3-3);
\draw (m-3-3) edge (m-4-3);
\draw[->,>=stealth] (m-2-1) |- (m-3-2);
\draw[->,>=stealth] (m-3-2) |- node[above,near end] {CDS Filter} (m-4-3);
\draw (m-4-3) edge (m-5-3);
%
\node [thick,draw=Iblue,dashed, fit={(m-1-1)(m-2-1)(m-3-2)(genome)},inner sep=14pt,label={(1) GeDI Reference Creator}] {};
\node [thick,draw=Iorange,dashed, fit={(m-1-3)(m-2-3)(m-3-3)(seq)}, inner sep=10pt,label={(2) GeDI Complete Genome}] {};
\node [thick,draw=Ipurple,dashed,fit={(m-3-2)(m-3-3)(m-5-3)(m-4-3)},inner sep=10pt,label={below:(3) GeDI Summary by Genes}] {};
\end{tikzpicture}
